# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: cvallejo <cvallejo@student.42malaga.com    +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2023/07/17 19:04:09 by cvallejo          #+#    #+#              #
#    Updated: 2023/08/01 11:55:29 by cvallejo         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

NAME	= mlx.a

BNAME	=

SOURCES	=	main.c

BSOURCES =

OBJECTS	= $(SOURCES:.c=.o)

BOBJECTS	= $(BSOURCES:.c=.o)

CC		= gcc

CFLAGS	= -Wall -Wextra -Werror

INCLUDES	= -I include -I MLX42/include/MLX42

LIBS		= MLX42/libmlx42.a -lglfw -L /Users/${USER}/.brew/opt/glfw/lib/

all:	$(NAME)

$(NAME):	$(OBJECTS)
#			@echo "\n	    ##### Comprobando NORMINETTE 42 #####\n";
#			@norminette srcs/
			@echo "\n		##### Compilando Minilibx #####\n";
			@make -C MLX42/ --silent
			@cp MLX42/libmlx42.a ./
#			@echo "\n		##### Compilando LIBFT #####\n";
#			@make -C libft/ --silent
#			@cp libft/libft.a srcs/
			@echo "\n	      ##### Compilando Fractol #####\n";
			@ar rcs $(NAME) $(OBJECTS)
			$(CC) $(CFLAGS) $(NAME) $(LIBS) $(INCLUDES) -o fractol

%.o:%.c
			$(CC) $(CFLAGS) -o $@ -c $< $(INCLUDES)

bonus:

%.o:%.c
			$(CC) $(CFLAGS) -o $@ -c $< $(INCLUDES)


clean:
			@rm -rf $(OBJECTS) $(BOBJECTS)
#			@make clean -C libft/ --silent
			@make clean -C MLX42/ --silent
			@echo "\n	       ##### Objects Cleaned!! #####\n";

fclean:
			@rm -rf $(NAME) $(BNAME) libmlx42.a fractol
#			@make fclean -C libft/ --silent
			@make clean -C MLX42/ --silent
			@rm -rf $(OBJECTS)
			clear
			@echo "\n	      ##### All files cleaned!! #####\n";


re:			fclean all

.PHONY:		all bonus clean fclean re